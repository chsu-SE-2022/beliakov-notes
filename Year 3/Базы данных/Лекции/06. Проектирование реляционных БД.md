При проектировании БД решаются две проблемы:
1. Как отобразить объекты предметной области в абстрактные объекты модели данных. Это проблема логического проектирования
2. Как обеспечить эффективность выполнения запросов к БД (расположить данные в ПЗУ, учитывая особенности СУБД), создание каких дополнительных структур требовать. Это проблема физического проектирования
Решается вопрос отношений и их атрибутов

# Нормализация
Проектирование рел. БД производится методом последовательных приближений к удовлетворительному схем отношений
Исходной точкой является представление предметной области в виде одного отношения
Процесс проектирования - процесс нормализации схем отношений, причём каждая следующая нормальная форма обладает свойствами лучшими, чем предыдущая
Кажной НР соответствует определённый набор ограничений
Существуют такие НР
1. Первая нормальная форма (1НФ)
2. Вторая нормальная форма (2НФ)
3. Третья нормальная форма (3НФ)
4. Нормальная форма Бойса-Кодда (НФБК)
5. Четвёртная нормальная форма (4НФ)
6. Пятая нормальная форма / Нормальная форма проекции соединения (5НФ)
## Основные свойства нормальных форм
Каждая следующая НФ в некотором смысле лучше предыдущей
При переходе к следующей НФ свойства предыдущих сохраняются

Нормализация - декомпозиция отношения, находящегося в предыдущей НФ, в два или более отношения, удовлетворяющих требования следующей НФ

## Первая нормальная форма
Значения атрибутов отношения должны быть атомарны

## Вторая нормальная форма
Отношение R находится во второй нормальной форме только тогда, когда находится в первой и каждый неключевой атрибут зависит от первичного ключа

Нормализацию часто завершают на 3НФ

При использовании ненормализованных таблиц возможны проблемы: избыточность данных, аномалии обновления, удаления, ввода
# Пример

## Сущность сотрудники:

| Фио | Дата рождения | Адрес | Телефоны | Должность | Разряд | Зарплата | Дата приёма | Дата увольнения |
| --- | ------------- | ----- | -------- | --------- | ------ | -------- | ----------- | --------------- |
## 1НФ - атрибуты должны быть атомарны

Отношение: Фамилия,Имя,Отчество,Дата Рождения,Улица,Дом,Квартира,Телефон1,Телефон2,Должность,Разряд,Зарплата,ДатаПриёма,ДатаУвольнения

## 2НФ
Отношение находится в 2НФ только тогда, когда отношение находится в первой НФ и каждый неключевой атрибут полностью зависит от первичного ключа
1. Определить, на какие части можно разбить ПК так, чтобы некоторые из неключевых полей зависили от него
2. Создать новую таблицу для каждой такой части ключа и группы зависящих от неё полей и переместить их в эти таблицы, где часть ПК станет внешними ключами новой таблицы
3. Удалить из исходной таблицы атрибуты, перемещённые в другие таблицы, кроме тех из них, которые станут внешними ключами

Выделим в отдельную таблицу данные о сотруднике как физ-лице

Код_ФизЛица,Фамилия,Имя,Отчество,Дата Рождения,Улица,Дом,Квартира,КодСотрудника

Код_Сотрудника,Код_ФизЛица,Телефон1,Телефон2,Должность,Разряд,Зарплата,ДатаПриёма,ДатаУвольнения

![Пример](Pasted%20image%2020240927130911.png)

## Третья нормальная форма
Отношение находится в 3НФ только тогда, когда отношение находится в 2НФ и каждый неключевой атрибут нетранзитивно зависит от первичного ключа
Зависимость между атрибутами Код_Сотрудника и Зарплата транзитивна. Предлагается Сотрудники разбить на Сотрудники и Должности

Код_Сотрудника,Разряд,ДатаПриёма,ДатаУвольнения
Код_Сотрудника,Код_Должности,Должность,

Сущность ФизЛица
Код_ФизЛица,Фамилия,Имя,Отчество,ДатаРождения,Улица,Дом,Квартира

Нормализация заканчивается на этой форме