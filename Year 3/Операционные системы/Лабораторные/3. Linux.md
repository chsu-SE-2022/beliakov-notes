# cat
cat (concatenate) - выводит или конкатенирует файлы
`cat filename` - выводит содержимое файла
![[Assets/cat-file.png]]
`cat - > filename` - читает stdin и записывает в файл
![[Assets/cat-stdin.png]]
`cat file1 file2 > output_file` - конкатенирует `file1` и `file2` и записывает в `output_file`
![[Assets/cat-concat-into.png]]
`cat file >> output` - добавляет содержимое `file` в `output`
![[Assets/cat-append.png]]
# cd
cd (change directory) - меняет текущую рабочую директорию
`cd path/to/dir` - переходит в указанную директорию
![[Assets/cd-to-path.png]]
`cd` - переходит в домашнюю директорию (`$XDG_HOME`, обычно выглядит как `/home/username`)
![[Assets/cd-home.png]]
`cd -` - переходит в предыдущую выбранную директорию
![[Assets/cd-latest.png]]
`cd ..` - переходит в директорию выше
![[Assets/cd-up.png]]
# clear
clear - Очищает экран текущего терминала
![[Assets/clear-before.png]]
![[Assets/clear-after.png]]
# cp
cp (copy) - копирует файлы и директории
`cp source destination` копирует `source` в `destination`
![[Assets/cp-file.png]]
`cp -r source/ destination/` - рекурсивно копирует директорию `source` в `destination`
# date
date - выводит текущую дату и время
![[Assets/date.png]]
`date +%c` использует выбранную локаль
![[Assets/date-locale.png]]
`date +%s` выводит дату как Unix timestamp
![[Assets/date-unix-epoch.png]]
`date -d @timestamp` переводит дату из Unix timestamp в "читабельный" формат
![[Assets/date-to-readable.png]]
# df
df (disk free) - показывает используемое пространство диска
![[Assets/df.png]]
`df -h` преобразует вывод в удобный для чтения
![[Assets/df-human.png]]
`df /path/to/dir` показывает используемое конкретной директорией пространство диска
![[Assets/df-dir.png]]
`df -x fsname` исключает из списка тип файловой системы
![[Assets/df-exclude.png]]
# du
du (disk usage) - показывает использованное директорией пространство
![[Assets/du.png]]
`du -h` преобразует вывод в удобный для чтения
![[Assets/du-human.png]]
`du --threshold size` - показывает только директории размером выше заданного
![[Assets/du-threshold.png]]

# echo
echo выводит переданные аргументы
![[Assets/echo.png]]
# exit
exit выходит из активного шелла
![[Assets/exit.png]]
# grep
grep - находит паттерны в файлах используя регулярные выражения
`grep "String" file` выводит все строки с `String` в ними в `file`
![[Assets/grep-string.png]]
`grep ".*:.*" file` выводит все строки в `file`, которые содержат `.*:.*`, т.е. текст с двух сторон двоеточий
![[Assets/grep-match.png]]
`grep "pattern" -r` ищет паттерн во всех файлах директории рекурсивно
![[Assets/grep-recursive.png]]
`grep "pattern" -n` добавляет номера строк
![[Assets/grep-numbers.png]]
# head
head открывает начало файла
![[Assets/head.png]]
# history
history выводит список последних использованных команд
![[Assets/history.png]]
`history n` выводит `n` последних команд в истории
![[Assets/history-n.png]]
# info
info выводит документацию, содержащуюся в `Info` документах системы
![[Assets/info.png]]
# less
less открывает файл для интерактивного чтения 
![[Assets/less-before.png]]
![[Assets/less-after.png]]
# logout
logout выходит из текущего логина
# ls
ls - выводит содержимое директории
![[Assets/ls.png]]
`ls -F` добавляет к названию файла символ, показывающий его тип (исполняемый, директория, тд)
![[Assets/ls-type.png]]
`ls -a` выводит скрытые файлы
![[Assets/ls-all.png]]
`ls -l` выводит расширенную информацию о файлах - разрешения, владельца, вес, дату и время создания
![[Assets/ls-long.png]]

| Буква | Значение                                                                                                                                                                                                                                                         |
| ----- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| d     | Тип файла (директория, может быть `-` для обычного файла, `l` для символической ссылки (файл, ссылающийся на другой файл. При обращении к символической ссылке на самом деле происходит обращение к файлу, на который ссылка ссылается), `n` для сетевого файла) |
| r     | Может ли создатель файла читать этот файл                                                                                                                                                                                                                        |
| w     | Может ли создатель файла писать в этот файл                                                                                                                                                                                                                      |
| x     | Может ли создатель файла "исполнять" этот файл                                                                                                                                                                                                                   |
| r     | Может ли группа, к которой принадлежит создатель файла, читать этот файл                                                                                                                                                                                         |
| w     | Может ли группа, к которой принадлежит создатель файла, писать в этот файл                                                                                                                                                                                       |
| x     | Может ли группа, к которой принадлежит создатель файла, "исполнять" этот файл                                                                                                                                                                                    |
| r     | Могут ли остальные группы/пользователи читать этот файл                                                                                                                                                                                                          |
| w     | Могут ли остальные группы/пользователи писать в этот файл                                                                                                                                                                                                        |
| x     | Могут ли остальные группы/пользователи "исполнять" этот файл                                                                                                                                                                                                     |
# man
man (manual) - выводит руководство по использованию программой
![[Assets/Pasted image 20250304154050.png]]
# mc
mc (midnight commander) - открывает файловый менеджер midnight commander
![[Assets/mc.png]]
# mkdir
mkdir (make directory) создаёт директрию
![[Assets/mkdir.png]]
`mkdir -p` создаёт родительские директории при необходимости
![[Assets/mkdir-parent.png]]
# mv
mv перемещает выбранный файл/директорию в другую выбранную директорию
![[Assets/mv-pre.png]]
![[Assets/mv-file.png]]
![[Assets/mv-dir.png]]
`mv filename filename2` переименовывает `filename` в `filename2`
![[Assets/mv-rename.png]]
# nano
nano - простой текстовый редактор
![[Assets/Pasted image 20250304155603.png]]
# passwd
passwd меняет пароль текущего пользователя
![[Assets/passw.png]]
![[Assets/passwd-changed.png]]
# ps
ps показывает список запущенных процессов
![[Assets/ps.png]]
`ps aux` выводит *все* запущенные процессы
![[Assets/ps-aux.png]]
# pwd
pwd (print working directory) - выводит текущую рабочую директорию
![[Assets/pwd.png]]
# rm
rm (remove) - удаляет выбранный файл
![[Assets/rm.png]]
`rm -r` - удаляет директорию рекурсивно
![[Assets/rm-recursive.png]]
# tail
tail - выводит конец файла
![[Assets/tail.png]]
# touch
touch - создаёт файл
![[Assets/touch.png]]
# who
who - выводит информацию о пользователе
![[Assets/who.png]]
`who -a` - выводит всю доступную информацию
![[Assets/who-all.png]]
`who -H` - добавляет заголовки столбцам
![[Assets/who-headers.png]]

# Shell scripts
Написать скрипт, находящий в заданном каталоге и всех его подкаталогах все файлы, владельцем которых является заданный пользователь. Имя владельца и каталог задаются пользователем в качестве первого и второго аргумента командной строки. Скрипт выводит результаты в файл (третий аргумент командной строки) в виде "полный путь, имя файла, его размер". На консоль выводится общее число просмотренных файлов. 
```bash
#!/bin/bash

# Написать скрипт, находящий в заданном каталоге и всех его подкаталогах все файлы,
# владельцем которых является заданный пользователь.
# Имя владельца и каталог задаются пользователем в качестве первого и второго аргумента командной строки.
# Скрипт выводит результаты в файл (третий аргумент командной строки)
# в виде "полный путь, имя файла, его размер".
# На консоль выводится общее число просмотренных файлов. 
 
owner="$1"
path="$2"
out="$3"

count=0

while read -d $'\0' f
do
  count=$((count+1))
  if [[ "$owner" == $(stat -c "%U" $f) ]]; then
    echo "$f, $(basename $f), $(ls -sh $f | cut -d " " -f 1)" >> $out
  fi
done < <(find $path -type f -print0)
echo $count
```
#### Тест
![[Assets/Pasted image 20250322114923.png]]