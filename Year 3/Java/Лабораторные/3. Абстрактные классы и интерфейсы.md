# Задание
В следующих заданиях требуется реализовать абстрактный базовый класс, определив в нем абстрактные функции. Эти функции определяются в производных классах. В базовых классах должны быть объявлены абстрактные функции ввода/вывода, которые реализуются в производных классах. Вызывающая программа должна продемонстрировать вызов всех абстрактных функций классов-наследников с помощью указателя на базовый класс.  
Изменить программу, используя в ней в качестве базового класса соответствующий интерфейс.  
**Примечание:** при необходимости, в программах использовать функции класса `Math`, находящегося в пакете `java.lang`.  
В качестве интерфейса для ввода исходных данных и вывода результатов использовать web-интерфейс организованный с помощью Vaadin. Можно, например, использовать компоненты: `TextField`, `Label`, `Button` и другие.
## Вариант 5
Создать абстрактный базовый класс Function с виртуальными методами вычисления значения $y = f(r)$ в заданной точке $x$. Определить производные классы для эллипса и гиперболы с собственными функциями вычисления $y$ в заданном $x$
# Исходный код
## Function.java
```java
public abstract class Function {
	public double a;  
	public double b;
    public abstract double Solve(double x);
    public abstract TextArea Display(double x);
}

```
## IFunction.java
```java
public interface IFunction {  
    public double Solve(double x);  
    public TextArea Display(double x);  
}
```
## Ellipse.java
```java
package org.function;  
  
import com.vaadin.flow.component.textfield.TextArea;  
import com.vaadin.flow.component.textfield.TextField;  
  
public class Ellipse extends Function implements IFunction {  
    public Ellipse(double a, double b) {  
        this.a = a;  
        this.b = b;  
    }  
    public double getA() {  
        return a;  
    }  
    public void setA(double a) {  
        this.a = a;  
    }  
    public double getB() {  
        return b;  
    }  
    public void setB(double b) {  
        this.b = b;  
    }  
    @Override  
    public double Solve(double x) {  
        // x^2 / a^2 + y^2 / b^2 = 1  
        // y = +- b/a * sqrt(a^2 - x^2)        return b / a * Math.sqrt(a*a - x*x);  
    }  
    @Override  
    public TextArea Display(double x) {  
        var field = new TextArea();  
        var solution = this.Solve(x);  
        field.setValue("Formula: x^2 / a^2 + y^2 / b^2 = 1,\nSolutions:\n" + "-" + solution + "\n" + solution);  
        field.setReadOnly(true);  
        return field;  
    }}
    ```
## Hyperbola.java
```java
public class Hyperbola extends Function implements IFunction {  
    public Hyperbola(double a, double b) {  
        this.a = a;  
        this.b = b;  
    }  
    public double getA() {  
        return a;  
    }  
    public void setA(double a) {  
        this.a = a;  
    }  
    public double getB() {  
        return b;  
    }  
    public void setB(double b) {  
        this.b = b;  
    }  
    @Override  
    public double Solve(double x) {  
        // x^2 / a^2 - y^2 / b^2 = 1  
        // y = +- sqrt(-(b^2)(a^2 - x^2)) / a        var aSqrXSqr = (a * a) - (x * x);  
        var y = Math.sqrt(-(b*b)*aSqrXSqr) / a;  
        return y;  
    }  
    @Override  
    public TextArea Display(double x) {  
        var field = new TextArea();  
        var solution = this.Solve(x);  
        field.setValue("Formula: x^2 / a^2 - y^2 / b^2 = 1,\nSolutions:\n" + "-" + solution + "\n" + solution);  
        field.setReadOnly(true);  
        return field;  
    }}

```
## MainView.java
```java
@Route  
public class MainView extends VerticalLayout {  
  
    public MainView() {  
  
  
        Select<String> select = new Select<String>(event -> {  
            var v = event.getValue();  
  
        });        select.setLabel("Choose a figure type");  
        select.setItems("Hyperbola", "Ellipse");  
        select.setValue("Hyperbola");  
        add(select);  
  
        Select<String> types = new Select<>(event -> {  
            var v = event.getValue();  
        });        types.setLabel("Choose a 'type'");  
        types.setItems("Abstract class", "Interface");  
        types.setValue("Interface");  
        add(types);  
  
        NumberField inputA = new NumberField("Input A");  
        NumberField inputB = new NumberField("Input B");  
        NumberField inputX = new NumberField("Input X");  
  
        Details inputs = new Details("Inputs:");  
        inputs.setOpened(true);  
        VerticalLayout layout = new VerticalLayout(inputA, inputB, inputX);  
        inputs.add(layout);  
  
        Details output = new Details("Result:");  
        output.setOpened(true);  
        Button button = new Button("Solve", event -> {  
            output.removeAll();  
            switch (types.getValue()) {  
                case "Abstract class" -> {  
                    Function obj = switch (select.getValue()) {  
                        case "Hyperbola" -> new Hyperbola(inputA.getValue(), inputB.getValue());  
                        case "Ellipse" -> new Ellipse(inputA.getValue(), inputB.getValue());  
                        default -> throw new IllegalStateException("Unexpected value: " + select.getValue());  
                    };                    var outputShape= obj.Display(inputX.getValue());  
                    output.add(outputShape);  
                }                case "Interface" -> {  
                    IFunction func = switch (select.getValue()) {  
                        case "Hyperbola" -> new Hyperbola(inputA.getValue(), inputB.getValue());  
                        case "Ellipse" -> new Ellipse(inputA.getValue(), inputB.getValue());  
                        default -> throw new IllegalStateException("Unexpected value: " + select.getValue());  
                    };                    var outputShape = func.Display(inputX.getValue());  
                    output.add(outputShape);  
                }            }        });        inputs.add(button);  
        add(inputs);  
        add(output);  
    }  
  
}

```
# Алгоритм
![[Assets/Pasted image 20251016144248.png]]